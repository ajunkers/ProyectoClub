<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

	<!-- Font Awesome Library -->
	<script src="https://use.fontawesome.com/0e22f96d6b.js"></script>

	<!-- LoadImages Library -->
	<script src="JavaScript-Load-Image-2.26.0/js/load-image.js"></script>

	<title>textArea</title>
</head>
<body onload="enableEditMode()">
	<div id="controls">
		<!-- <button onclick="execCmd('')"><i class="fa fa-"></i></button> -->

		<!-- <select>
			<option value=""></option>
		</select> -->

		<button onclick="execCmd('bold')"><i class="fa fa-bold"></i></button>
		<button onclick="execCmd('italic')"><i class="fa fa-italic"></i></button>
		<button onclick="execCmd('underline')"><i class="fa fa-underline"></i></button>
		<button onclick="execCmd('strikethrough')"><i class="fa fa-strikethrough"></i></button>
		<button onclick="execCmd('justifyLeft')"><i class="fa fa-align-left"></i></button>
		<button onclick="execCmd('justifyCenter')"><i class="fa fa-align-center"></i></button>
		<button onclick="execCmd('justifyRight')"><i class="fa fa-align-right"></i></button>
		<button onclick="execCmd('justifyFull')"><i class="fa fa-align-justify"></i></button>
		<button onclick="execCmd('cut')"><i class="fa fa-cut"></i></button>
		<button onclick="execCmd('copy')"><i class="fa fa-copy"></i></button>
		<button onclick="execCmd('indent')"><i class="fa fa-indent"></i></button>
		<button onclick="execCmd('outdent')"><i class="fa fa-dedent"></i></button>
		<button onclick="execCmd('subscript')"><i class="fa fa-subscript"></i></button>
		<button onclick="execCmd('superscript')"><i class="fa fa-superscript"></i></button>
		<button onclick="execCmd('undo')"><i class="fa fa-undo"></i></button>
		<button onclick="execCmd('redo')"><i class="fa fa-repeat"></i></button>
		<button onclick="execCmd('insertUnorderedList')"><i class="fa fa-list-ul"></i></button>
		<button onclick="execCmd('insertOrderedList')"><i class="fa fa-list-ol"></i></button>
		<button onclick="execCmd('insertParagraph')"><i class="fa fa-paragraph"></i></button>
		
		<select onchange="execCommandWhithArg('formatBlock', this.value)">
			<option value="H1">Header1</option>
			<option value="H2">Header2</option>
			<option value="H3">Header3</option>
			<option value="H4">Header4</option>
			<option value="H5">Header5</option>
			<option value="H6">Header6</option>
		</select>

		<button onclick="execCmd('insertHorizontalRule')">HR</button>
		<button onclick="execCmd('createLink', prompt('Enter a URL:', 'http://'))"><i class="fa fa-link"></i></button>
		<button onclick="execCmd('unlink')"><i class="fa fa-unlink"></i></button>
		<!-- <button onclick="toggleSource();"><i class="fa fa-code"></i></button> -->
		<button onclick="toggleEdit(this)" class="tggEditOn"><i class="fa fa-unlock-alt"></i></button>

		<select  onchange="execCommandWhithArg('fontName', this.value)">
			<option value="Arial">Arial</option>
			<option value="Arial">Comic Sans MS</option>
			<option value="Courier">Courier</option>
			<option value="Georgia">Georgia</option>
			<option value="Tahoma">Tahoma</option>
			<option value="Times New Roman">Times New Roman</option>
			<option value="Verdana">Verdana</option>
		</select>

		<select  onchange="execCommandWhithArg('fontSize', this.value)">
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
		</select>

		Fore Color: <input type="color" name="foreColor"  onchange="execCommandWhithArg('foreColor', this.value)"/>
		Background: <input type="color" name="backgroundColor"  onchange="execCommandWhithArg('hiliteColor', this.value)"/>

		<!-- <button onclick="uploadImg(execCommandWhithArg('insertImage', prompt('', '')))"><i class="fa fa-file-image-o"></i></button> -->
		<label for="fileImg" style="cursor: pointer;"><i class="fa fa-file-image-o"></i></label>
		<input type="file"  accept="image/*" name="image" id="fileImg"  multiple="false" hidden>
		<button onclick="execCmd('selectAll')">Select all</button>
	</div>

	<iframe class="text" src="" name="textField" id="textField"></iframe>
	<br>
	<button onclick="save()"> Save </button>

	<script type="text/javascript">
		var isInEditMode = true;

		document.getElementById("fileImg").onchange = function(e) {
			loadImage(
				e.target.files[0],
				function(img) {
					document.body.appendChild(img);
				},
				{ maxWidth: 600 } // Options
			);
		};

		function enableEditMode(){
			textField.document.designMode = 'on';
		}

		function execCmd(command){
			textField.document.execCommand(command, false, null);
		}

		function execCommandWhithArg(command, arg){
			textField.document.execCommand(command, false, arg);
		}

		function toggleEdit(toggle){
			if (isInEditMode) {
				toggle.classList.add('tggEditOff');
				toggle.classList.remove('tggEditOn');

				toggle.firstChild.classList.add('fa-lock');
				toggle.firstChild.classList.remove('fa-unlock-alt');


				textField.document.designMode = 'off';
				isInEditMode = false;
			}else{
				toggle.classList.add('tggEditOn');
				toggle.classList.remove('tggEditOff');

				toggle.firstChild.classList.add('fa-unlock-alt');
				toggle.firstChild.classList.remove('fa-lock');

				textField.document.designMode = 'on';
				isInEditMode = true;
			}
		}

		function readURL(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				reader.onload = function (e) {
					$('#textField')
						.attr('src', e.target.result);
				};
			reader.readAsDataURL(input.files[0]);
			}
		}

		function uploadImg(e){
				loadImage(
					e.target.files[0],
					function(img) {
						document.body.appendChild(img);
					},
					{ maxWidth: 600 } // Options
				);
			
		}

	</script>

</body>
</html>